//==============================================================================
// Dependencies
//==============================================================================

var Q           = require('q');
var express     = require('express');
var disposition = require('disposition');
var Idea        = require('models/idea');


//==============================================================================
// Setup
//==============================================================================

var router = express.Router();


//==============================================================================
// Actions
//==============================================================================

router.get('/', function(req, res) {
  'use strict';
  Idea.filter(function(idea) {
    return disposition.upsell.indexOf(idea.cID) !== -1;
  }).then(function(ideas) {
    res.render('index', {
      title: 'O2 Nurture',
      ideas: ideas
    });
  });
});


//==============================================================================
// Export
//==============================================================================

module.exports = router;

